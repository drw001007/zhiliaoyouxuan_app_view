(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/share_merchandise/share_merchandise"],{"1f12":function(e,a,t){"use strict";t.r(a);var s=t("7beb"),n=t("54f0");for(var o in n)"default"!==o&&function(e){t.d(a,e,function(){return n[e]})}(o);t("4f85");var r=t("2877"),i=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);a["default"]=i.exports},"232c":function(e,a,t){"use strict";(function(e,s){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(t("e50d"));function o(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{serverImg:getApp().globalData.serverImg,yesshow:!1,onecheck:"0",tk:"",list:[],goods_id:"",prodlist:[],imgurl:[],scrollLeft:0,footshow:!1,pict_url:"",shareImg:"",lodding:2}},methods:{getmerchan:function(a){var t=this;(0,n.default)({url:"/tb/share/qr",method:"POST",data:{tk_code:t.tk,pict_url:t.pict_url},success:function(a){console.log(e(a," at pages\\share_merchandise\\share_merchandise.vue:152")),t.list=a.data.data.wen_an,t.shareImg=a.data.data.pic_url,t.lodding=1}})},getPhotoClickIdx:function(e){var a=this,t=(a.shareImg,[]);t[0]=a.shareImg,s.previewImage({current:t[0],urls:t})},copycomt:function(){var e=this,a=e.list;s.setClipboardData({data:a})},wxshare:function(){var a=this,t=a.list;s.share({provider:"weixin",scene:"WXSceneSession",type:1,summary:t,success:function(a){console.log(e("success:"+JSON.stringify(a)," at pages\\share_merchandise\\share_merchandise.vue:191"))},fail:function(a){console.log(e("fail:"+JSON.stringify(a)," at pages\\share_merchandise\\share_merchandise.vue:194"))}})},getdetail:function(a){var t=this;(0,n.default)({url:"/tb/goods/detail",method:"POST",data:{goods_id:t.goods_id},success:function(a){console.log(e(a.data," at pages\\share_merchandise\\share_merchandise.vue:210"));var s=a.data.data;t.imgurl=s.small_images,t.prodlist={markprice:s.quanhou_jiage,shoppric:s.size,coupon:s.coupon_info_money,volume:s.volume,picname:s.tao_title,src:s.pict_url},console.log(e(t.prodlist," at pages\\share_merchandise\\share_merchandise.vue:221"))}})},tupshare:function(){console.log(e("111"," at pages\\share_merchandise\\share_merchandise.vue:240"));var a=this,t=(s.getSystemInfoSync(),s.createCanvasContext("firstCanvas"));s.getImageInfo({src:a.prodlist.src,success:function(a){console.log(e(a.path," at pages\\share_merchandise\\share_merchandise.vue:248"));var n=a.path;t.drawImage(a.path,0,0,375,s.upx2px(1020));var o=t.createLinearGradient(0,0,800,0);o.addColorStop("0.25","#8b00d2"),o.addColorStop("0.5","#003fb3"),o.addColorStop("0.75","#ff3ef0"),t.fillStyle="#FFFFFF",t.fillRect(s.upx2px(500),s.upx2px(790),s.upx2px(200),s.upx2px(210)),t.drawImage(n,s.upx2px(520),s.upx2px(800),s.upx2px(160),s.upx2px(160)),t.font="13px Arial",t.fillStyle="#000",t.fillText("长按保存二维码",s.upx2px(508),s.upx2px(990)),t.draw(!1,function(){s.canvasToTempFilePath({x:0,y:0,width:375,height:s.upx2px(1020),destWidth:375,destHeight:s.upx2px(1020),canvasId:"firstCanvas",success:function(a){s.saveImageToPhotosAlbum({filePath:a.tempFilePath,success:function(){console.log(e("save success"," at pages\\share_merchandise\\share_merchandise.vue:274"))}})},fail:function(a){console.log(e(a," at pages\\share_merchandise\\share_merchandise.vue:279")),s.showToast({title:"生成海报失败",icon:"none"})}})})},fail:function(a){console.log(e(a," at pages\\share_merchandise\\share_merchandise.vue:289"))}})},saveToAlbum:function(){this.$refs.qrcode._makeCode()},changeCheckbox:function(a){console.log(e(a," at pages\\share_merchandise\\share_merchandise.vue:303"))},goback:function(){s.navigateBack({delta:1})},saveQrcode:function(){var e=this;s.saveImageToPhotosAlbum({filePath:e.shareImg,success:function(){s.showToast({title:"图片保存成功",icon:"success",duration:2e3})}})}},onLoad:function(a){var t=this;console.log(e(a," at pages\\share_merchandise\\share_merchandise.vue:330")),t.goods_id=a.goods_id,t.tk=a.tk,t.pict_url=a.pict_url,t.getmerchan(),t.getdetail()}};a.default=r}).call(this,t("0de9")["default"],t("6e42")["default"])},2654:function(e,a,t){},"4f85":function(e,a,t){"use strict";var s=t("2654"),n=t.n(s);n.a},"54f0":function(e,a,t){"use strict";t.r(a);var s=t("232c"),n=t.n(s);for(var o in s)"default"!==o&&function(e){t.d(a,e,function(){return s[e]})}(o);a["default"]=n.a},5685:function(e,a,t){"use strict";(function(e){t("557d"),t("921b");s(t("66fd"));var a=s(t("1f12"));function s(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},"7beb":function(e,a,t){"use strict";var s=function(){var e=this,a=e.$createElement;e._self._c},n=[];t.d(a,"a",function(){return s}),t.d(a,"b",function(){return n})}},[["5685","common/runtime","common/vendor"]]]);