(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mycenter/login/login"],{"0024":function(e,t,o){"use strict";(function(e){o("557d"),o("921b");n(o("66fd"));var t=n(o("0eae"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},"0333":function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},"0eae":function(e,t,o){"use strict";o.r(t);var n=o("0333"),a=o("ddd3");for(var l in a)"default"!==l&&function(e){o.d(t,e,function(){return a[e]})}(l);o("438f");var s=o("2877"),i=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=i.exports},"438f":function(e,t,o){"use strict";var n=o("558c"),a=o.n(n);a.a},"558c":function(e,t,o){},5682:function(e,t,o){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=l(o("e50d"));function l(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{serverImg:getApp().globalData.serverImg,reigshow:!1,sin:1,tels:"",getshow:!1,countdown:"获取验证码",timestatus:!1,code:"",id:""}},methods:{declick:function(){var e=this;e.reigshow=!e.reigshow},bindinput:function(t){var o=this;console.log(e(t," at pages\\mycenter\\login\\login.vue:116")),o.tels=t.detail.value},countDown:function(){var e=this;e.countdown?--e.countdown:(e.getshow=!e.getshow,e.timestatus=!1,e.countdown="获取验证码",clearInterval(e.clear))},gotohome:function(){n.switchTab({url:"../../index/index"})},getsms:function(){var t=this,o=t.tels,l="",s=!1;""==o?l="请输入手机号码":/^1(3|4|5|7|8)\d{9}$/.test(o)?s=!0:l="手机号格式不正确",0==s?n.showToast({title:l,icon:"none"}):(console.log(e("bbg"," at pages\\mycenter\\login\\login.vue:156")),t.countdown=60,t.timestatus=!0,t.getshow=!t.getshow,t.clear=setInterval(t.countDown,1e3),(0,a.default)({url:"/app/msgcode",method:"POST",data:{mobile:o},success:function(o){console.log(e(o," at pages\\mycenter\\login\\login.vue:171")),t.code=o.data.data.msg_code}}))},formregin:function(t){var o=this,l=t.detail.value.remoddle,s=t.detail.value.repass,i=t.detail.value.repasstwo,u=t.detail.value.ivit,r=t.detail.value.recod,c=o.code;console.log(e(o.code," at pages\\mycenter\\login\\login.vue:189")),console.log(e("that.code"," at pages\\mycenter\\login\\login.vue:190")),console.log(e(t," at pages\\mycenter\\login\\login.vue:191"));var g=!1,d="";""==l?d="请输入手机号":/^1(3|4|5|7|8)\d{9}$/.test(l)?""==s?d="请输入密码":""==i?d="请输入密码":s!==i?d="密码不一致":""==r?d="请输入验证码":r!=c?(d="验证码错误",console.log(e(c," at pages\\mycenter\\login\\login.vue:208")),console.log(e(r," at pages\\mycenter\\login\\login.vue:209"))):g=!0:d="手机号格式不正确",0==g?n.showToast({title:d,icon:"none"}):(0,a.default)({url:"/app/register",method:"POST",data:{mobile:l,password:s,re_password:i,reg_share_code:u},success:function(t){if(console.log(e(t," at pages\\mycenter\\login\\login.vue:229")),console.log(e("注册res"," at pages\\mycenter\\login\\login.vue:230")),1==t.data.code){var o=t.data.data;n.showToast({title:"注册成功",icon:"none"}),n.setStorage({key:"token",data:o.token}),n.setStorage({key:"user_id",data:o.user_id}),n.setStorage({key:"userAuthorization",data:!0}),setTimeout(function(){n.switchTab({url:"../mycenter/mycenter"})},1e3)}}})},formlogin:function(t){console.log(e(t," at pages\\mycenter\\login\\login.vue:263"));var o=this,l=t.detail.value.user,s=t.detail.value.uword,i="",u=!1;""==l?i="请填写用户名":/^1(3|4|5|7|8)\d{9}$/.test(l)?""==s?i="请输入密码":u=!0:i="手机号格式不正确",0==u?n.showToast({title:i,icon:"none"}):(0,a.default)({url:"/app/login",method:"POST",data:{username:l,password:s},success:function(t){console.log(e(t," at pages\\mycenter\\login\\login.vue:292")),console.log(e(" at pages\\mycenter\\login\\login.vue:293"));var a=t.data,l=t.data.data;1==a.code?(n.showToast({title:l.message,icon:"none"}),console.log(e(l.token," at pages\\mycenter\\login\\login.vue:301")),console.log(e("(arr.token"," at pages\\mycenter\\login\\login.vue:302")),n.setStorage({key:"token",data:l.users.token}),n.setStorage({key:"userAuthorization",data:!0}),getApp().globalData.userInfo=l.users,getApp().globalData.userAuthorization=!0,console.log(e(getApp().globalData.userInfo," at pages\\mycenter\\login\\login.vue:314")),console.log(e("getApp().globalData.userInfo"," at pages\\mycenter\\login\\login.vue:315")),1==o.sin?setTimeout(function(){n.switchTab({url:"../mycenter/mycenter"})},1e3):setTimeout(function(){n.navigateTo({url:"../../productdetail/productdetail?id="+o.id})},1e3)):n.showToast({title:t.data.message,icon:"none"})}})}},onLoad:function(e){var t=this;t.sin=e.sin,t.id=e.id}};t.default=s}).call(this,o("0de9")["default"],o("6e42")["default"])},ddd3:function(e,t,o){"use strict";o.r(t);var n=o("5682"),a=o.n(n);for(var l in n)"default"!==l&&function(e){o.d(t,e,function(){return n[e]})}(l);t["default"]=a.a}},[["0024","common/runtime","common/vendor"]]]);